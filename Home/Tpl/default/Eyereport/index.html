<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <title></title>
    <link rel="stylesheet" type="text/css" href="__PUBLIC__/Home/css/style.css"/>
    <link rel="stylesheet" type="text/css" href="__PUBLIC__/Home/css/animate.css"/>
    <link rel="stylesheet" type="text/css" href="__PUBLIC__/Home/css/font-awesome.min.css"/>
    <style>
        html, body {
            position: relative;
            height: 100%;
            overflow: hidden;
        }
    </style>
</head>
<body>
<div class="test_page common_w">
    <section class="section">
        <img class="img" src="__PUBLIC__/Home/images/test/test1.jpg"/>

        <p class="tips">13年工作经验验光师坐诊<br/>
            快速测试出你的眼力值<br/>
            给出个性化的<span class="blue_color">配镜建议</span>
        </p>
        <!-- 未测试显示-->
        <a class="blue_btn test_btn" href="javascript:;">去测试</a>

        <!--已测试显示的是下面内容-->
        <!--<div class="finish_tips">
            <p class="blue_color">
                您已经完成测试<br/>
                点击查看配镜建议
            </p>
            <a class="blue_btn" href="#">查看建议</a>
        </div>-->
    </section>

    <!--测试题-->
    <section class="section bg">
        <h3 class="test_tit">为什么成为四眼一族？</h3>
        <ul class="question">
            <li data-id="1-A"><i class="fa"></i>A. 自己造的</li>
            <!--fa-check-square-->
            <li data-id="1-B"><i class="fa"></i>B. 爸妈遗传的</li>
        </ul>
        <p class="number">1/11</p>
        <a class="next_btn" href="javascript:;">下一题</a>
    </section>
    <section class="section bg">
        <h3 class="test_tit">你的近视度数</h3>
        <ul class="question">
            <li data-id="2-A"><i class="fa"></i>A. 0~300度</li>
            <!--fa-check-square-->
            <li data-id="2-B"><i class="fa"></i>B. 301~600度</li>
            <li data-id="2-C"><i class="fa"></i>C. 601~900度</li>
            <li data-id="2-D"><i class="fa"></i>D. 900度以上</li>
        </ul>
        <p class="number">2/11</p>
        <a class="next_btn" href="javascript:;">下一题</a>
    </section>
    <section class="section bg">
        <h3 class="test_tit">是否散光？</h3>
        <ul class="question">
            <li data-id="3-A"><i class="fa"></i>A. 不散</li>
            <!--fa-check-square-->
            <li data-id="3-B"><i class="fa"></i>B. 散</li>
        </ul>
        <p class="number">3/11</p>
        <a class="next_btn" href="javascript:;">下一题</a>
    </section>
    <section class="section bg">
        <h3 class="test_tit">神马时候发现有近视的？</h3>
        <ul class="question">
            <li data-id="4-A"><i class="fa"></i>A. 小学阶段</li>
            <!--fa-check-square-->
            <li data-id="4-B"><i class="fa"></i>B. 中学阶段</li>
            <li data-id="4-C"><i class="fa"></i>C. 大学阶段</li>
            <li data-id="4-D"><i class="fa"></i>D. 工作后</li>
        </ul>
        <p class="number">4/11</p>
        <a class="next_btn" href="javascript:;">下一题</a>
    </section>
    <section class="section bg">
        <h3 class="test_tit">双眼度数相差是否超过100度？</h3>
        <ul class="question">
            <li data-id="5-A"><i class="fa"></i>A. 莫有</li>
            <!--fa-check-square-->
            <li data-id="5-B"><i class="fa"></i>B. 有啊</li>
        </ul>
        <p class="number">5/11</p>
        <a class="next_btn" href="javascript:;">下一题</a>
    </section>
    <section class="section bg">
        <h3 class="test_tit">现在每天看电脑、手机的时间</h3>
        <ul class="question">
            <li data-id="6-A"><i class="fa"></i>A. 3小时以内</li>
            <!--fa-check-square-->
            <li data-id="6-B"><i class="fa"></i>B. 3~8小时</li>
            <li data-id="6-C"><i class="fa"></i>C. 8小时以上</li>
        </ul>
        <p class="number">6/11</p>
        <a class="next_btn" href="javascript:;">下一题</a>
    </section>
    <section class="section bg">
        <h3 class="test_tit">多长时间检查一次视力</h3>
        <ul class="question">
            <li data-id="7-A"><i class="fa"></i>A. 定期检查</li>
            <!--fa-check-square-->
            <li data-id="7-B"><i class="fa"></i>B. 更换眼镜的时候</li>
        </ul>
        <p class="number">7/11</p>
        <a class="next_btn" href="javascript:;">下一题</a>
    </section>
    <section class="section bg">
        <h3 class="test_tit">配镜过程中你认为最重要的是</h3>
        <ul class="question">
            <li data-id="8-A"><i class="fa"></i>A. 验光专业、仔细</li>
            <!--fa-check-square-->
            <li data-id="8-B"><i class="fa"></i>B. 镜片品牌</li>
            <li data-id="8-C"><i class="fa"></i>C. 镜框材质、款式</li>
        </ul>
        <p class="number">8/11</p>
        <a class="next_btn" href="javascript:;">下一题</a>
    </section>
    <section class="section bg">
        <h3 class="test_tit">饮食上，你更喜欢（可多选）</h3>
        <ul class="question multi_question">
            <li data-id="9-A"><i class="fa"></i>A. 维生素含量高的：水果、蔬菜、全谷类…</li>
            <!--fa-check-square-->
            <li data-id="9-B"><i class="fa"></i>B. 蛋白质含量高的：瘦肉、鱼虾、奶类、蛋类、豆类…</li>
            <li data-id="9-C"><i class="fa"></i>C. 重口味的，重盐、重油、煎炸、烧烤...</li>
        </ul>
        <p class="number">9/11</p>
        <a class="next_btn" href="javascript:;">下一题</a>
    </section>
    <section class="section bg">
        <h3 class="test_tit">你对眼睛店的看法</h3>
        <ul class="question">
            <li data-id="10-A"><i class="fa"></i>A. 基本满意</li>
            <!--fa-check-square-->
            <li data-id="10-B"><i class="fa"></i>B. 有点小贵，卖便宜点更好</li>
            <li data-id="10-C"><i class="fa"></i>C. 咬牙切齿，暴利行业！</li>
        </ul>
        <p class="number">10/11</p>
        <a class="next_btn" href="javascript:;">下一题</a>
    </section>
    <section class="section bg">
        <h3 class="test_tit">小声告诉我你的年龄（打死不告诉别人）</h3>
        <ul class="question">
            <li data-id="11-A"><i class="fa"></i>A. 0~16岁，活力骚年</li>
            <!--fa-check-square-->
            <li data-id="11-B"><i class="fa"></i>B. 16~35岁，成熟青年</li>
            <li data-id="11-C"><i class="fa"></i>C. 36~60岁，魅力中年</li>
            <li data-id="11-D"><i class="fa"></i>D. 60岁以上，稳健老年</li>
        </ul>
        <p class="number">11/11</p>
        <input id='str' type="hidden" value="" name="str"/>
        <!--<a class="next_btn finish_btn" href="javascript:;">完成</a>-->
        <input type="submit" class="next_btn finish_btn" name="submit" value="提交"/>
    </section>
</div>

</body>

<script type="text/javascript" src="__PUBLIC__/Home/js/zepto.js"></script>
<script type="text/javascript" src="__PUBLIC__/Home/js/zeptoTouch.js"></script>
<script>
    //单选，图标变蓝色
    $('.question li').not('.multi_question li').on('tap',function(){
        $(this).addClass('cur').siblings().removeClass('cur');
        $(this).find('i').addClass('fa-check-square');
        $(this).siblings().find('i').removeClass('fa-check-square');
    });

    //多选，图标变蓝色
    $('.multi_question li').on('tap',function(){
        $(this).addClass('cur');
        $(this).find('i').addClass('fa-check-square');
    });

    //点击完成按钮
     var $str=$('#str'); //选中隐藏域对象
    $('.finish_btn').on('tap',function(){
        var strValue=[];
        var value='';
        var length=$('.question .cur').length;
        for(var i=0; i<length; i++){
            value+=$('.question .cur').eq(i).attr('data-id')+',';
        }
        strValue.push(value);
        $str.val(strValue);
        //alert(strValue);
        window.location.href = '__URL__/result/str/'+strValue;
        //console.log($str.val());
    });

    //去测试按钮
    $('.section .test_btn').on('tap', function () {
        next();
    });
    //下一题显示
    var num = 1;
    $('.section .next_btn').on('tap', function () {
        var length=$(this).siblings('.question').find('.cur').length;
        if (num <= 11) {
           if(length>0){
               next();
           }else{
               alert('请选择');
           }
        }
    });
    function next(){
        //先清除类，再添加类
        document.addEventListener('webkitAnimationEnd', function () {
            $('.test_page').removeClass('animated slideInRight');
            document.removeEventListener('webkitAnimationEnd');
        }, false);
        //核心
        $('.test_page').css('top', -num * 100 + '%').addClass('animated slideInRight');
        num++;
    }
</script>
</html>



